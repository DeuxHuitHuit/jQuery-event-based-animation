/*! jQuery Event Based Animation - v1.2.0 - build 9 - 2014-01-29
* https://github.com/DeuxHuitHuit/jQuery-event-based-animation
* Copyright (c) 2014 Deux Huit Huit (http://www.deuxhuithuit.com/);
* Licensed MIT */

!function(a){"use strict";var b="event-based-animation",c=a(window),d={left:0,top:0},e=function(a,b){return a&&b?a/b:0},f=function(a){return parseInt(a,10)||0},g=function(a){return parseFloat(a)||0},h=function(a){window.console&&console[console.error?"error":"log"]("[eventAnimate] "+a)},i=function(b,c){a.each(b.properties,function(a,b){return c(b)})},j=function(b,c,d){return i(b,function(b){c[b]=a.isFunction(d)?d(b):a.isPlainObject(d)?d[b]:d}),c},k=function(a,b){return!(!a||!b)},l=function(a,b){return!(!a&&!b)},m=function(a,b,c){var d=!c,e=d?k:l,f=d;return i(a,function(a){return f=e(f,b(a)),d&&!f||!d&&f?!1:void 0}),f},n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout,o=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout,p=function(a,b){return n(a,n===window.setTimeout?b.tick:b.container.get(0))},q=function(a){return o(a)},r=function(b,c,d,e,h){var i={},k=a.isFunction(c.durationRatio)&&c.durationRatio.call(b,c,d,e,h)||c.durationRatio||{},l=a.isFunction(c.duration)&&c.duration.call(b,c,d,e,h)||c.duration||{},m=function(a,b){return f(a[b])||f(a)},n=function(a,b){return g(a[b])||g(a)},o=function(a){return n(k,a)},p=function(a){return m(l,a)},q=function(a){return Math.abs(f(d[a]))};return j(c,i,function(a){var b=o(a),c=p(a);return b?b*q(a):c})},s=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():a.now()},t=function(b,c){var d=null;return a.isFunction(b.startValues)?d=b.startValues(b,c):a.isPlainObject(b.startValues)&&(d=j(b,{},function(d){return a.isNumeric(b.startValues[d])?g(b.startValues[d]):c[d]})),d||(d=c),d},u=function(b,c){var d=a.isPlainObject(b.easing),e=d&&b.easing[c],f=!d&&b.easing;return e||f||a.easing.def||"linear"},v=function(a,b,c){c.x=b.container.scrollLeft(),c.y=b.container.scrollTop()},w=function(a,b,c){var e=b.container.offset()||d;c.x=a.pageX-e.left,c.y=a.pageY-e.top},x=function(a,b,c){var e=b.container.offset()||d,f=a.originalEvent.touches[0];c.x=f.pageX-e.left,c.y=f.pageY-e.top},y={scroll:v,click:w,mouseover:w,mousemove:w,touchmove:x};a.isFunction(a.isString)||(a.isString=function(b){return"string"===a.type(b)}),a.isFunction(a.isNumeric)||(a.isNumeric=function(b){return!a.isNaN(b)}),a.isFunction(a.fn.on)||(a.fn.on=a.fn.bind),a.fn.eventAnimate=function(c){var d=a(this);if("destroy"===c){var f=d.data(b);return d.off(f.event),d}var g=0,k=a.extend({},y),l=g,n={},o={},v={},w={},x={},z=function(a){j(a,n,0),j(a,o,0),j(a,w,0),j(a,v,0),j(a,x,t(a,v))},A=null,B=null,C=!1,D=function(){C=!1,A=null},E=function(b){var c=[b,L,v],e=b.type||L.event,f=k[e];a.isFunction(f)?(a.each(arguments,function(a,b){a>0&&c.push(b)}),f.apply(d,c),(!C||L.restartOnEvent)&&(g=s()-1),C||F(!B)):h('No strategy found for event "'+e+'"')},F=function(a){return I(L)?(q(A),A=null):L.delayStart||a?A=p(K,L):K(),A},G=function(a,b,c,d,f){return j(a,{},function(a){var g=f[a]-d[a],h=Math.min(1,e(b,c[a]));return d[a]+h*g})},H=function(a,b,c,d){window.console&&console.log&&a.debug&&i(a,function(e){(a.debug===!0||a.debug[e]===!0)&&console.log(l+" Target "+e+" "+parseInt(v[e],10)+" - Start "+parseInt(o[e],10)+" - Linear "+parseInt(b[e],10)+" - Eased "+parseInt(c[e],10)+" - Time "+Math.min(d,n[e])+" - Duration "+n[e])})},I=function(b){return a.isFunction(b.stop)?b.stop(b):!1},J=function(a){return 0!==w[a]},K=function(){if(I(L))D();else if(B&&(clearTimeout(B),B=null),j(L,w,function(a){return v[a]-x[a]}),m(L,J,!0)){if(g>l){var b=t(L,x);if(!C||L.restartOnEvent){var c=function(a){return b[a]||x[a]||0},e=function(a){return o[a]};o=j(L,{},c),l=g-1,n=r(d,L,w,o,v),x=j(L,x,e)}j(L,w,function(a){return v[a]-o[a]})}var f=s()-l,h=function(a){return f<n[a]},i=G(L,f,n,o,v),k={},p=function(b){return a.isNumeric(k[b])};j(L,k,function(b){var c=u(L,b),d=Math.min(f,n[b]),e=v[b]-o[b];return n[b]?a.easing[c](i[b],d,o[b],e,n[b]):v[b]}),H(L,i,k,f),m(L,p,!0)&&j(L,x,k),!C&&a.isFunction(L.start)&&L.start.call(d,f,x),C=!0,a.isFunction(L.step)&&L.step.call(d,f,x),m(L,h,!0)?F(!0):f>0?(D(),B=setTimeout(function(){a.isFunction(L.complete)&&L.complete.call(d,f,x)},L.completeDelay),x=t(L,x)):D()}else D()},L=a.extend({container:null,tick:16,event:"scroll",properties:"x y",delayStart:!1,duration:0,durationRatio:1,restartOnEvent:!1,stop:null,step:null,complete:null,completeDelay:16,start:null,easing:null,strategy:null,startValues:null,debug:!1},c),M=function(c){return c.container=a(c.container||d),c.container.length?(a.isFunction(c.strategy)?k[c.event]=c.strategy:a.isString(c.strategy)?k[c.event]=k[c.strategy]:a.isPlainObject(c.strategy)&&a.each(c.strategy,function(b,c){k[b]=a.isString(c)?k[c]:c}),a.isString(c.properties)&&(c.properties=c.properties.split(" ")),!a.isArray(c.properties)||c.properties.length<1?(h("No animatable properties have been set."),d):(z(c),c.container.on(c.event,E),d.data(b,c),d)):(h("No container found"),d)};return M(L)},a.eventAnimate={"int":f,"float":g,_forEach:i,_setEach:j,_validateEach:m,_getDuration:r,_getStartValues:t,_getEasing:u,_defaultEventStrategies:y},a.raf=function(b,d){return n(function(){b(arguments)&&a.raf(b)},a.extend({tick:16,container:c},d))},a.craf=function(a){o(a)}}(jQuery);
//# sourceMappingURL=jquery.event-based-animation.min.js.map