/*! jQuery Event Based Animation - v1.2.0 - build 6 - 2014-01-29
* https://github.com/DeuxHuitHuit/jQuery-event-based-animation
* Copyright (c) 2014 Deux Huit Huit (http://www.deuxhuithuit.com/);
* Licensed MIT */

!function(a){"use strict";var b=a(window),c={left:0,top:0},d=function(a,b){return a&&b?a/b:0},e=function(a){return parseInt(a,10)||0},f=function(a){return parseFloat(a)||0},g=function(a){!window.console||console[console.error?"error":"log"]("[eventAnimate] "+a)},h=function(b,c){a.each(b.properties,function(a,b){return c(b)})},i=function(b,c,d){return h(b,function(b){c[b]=a.isFunction(d)?d(b):a.isPlainObject(d)?d[b]:d}),c},j=function(a,b){return!!a&&!!b},k=function(a,b){return!!a||!!b},l=function(a,b,c){var d=!c,e=d?j:k,f=d;return h(a,function(a){return f=e(f,b(a)),d&&!f||!d&&f?!1:void 0}),f},m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout,n=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout,o=function(a,b){return m(a,m===window.setTimeout?b.tick:b.container.get(0))},p=function(a){return n(a)},q=function(b,c,d,g,h){var j={},k=a.isFunction(c.durationRatio)&&c.durationRatio.call(b,c,d,g,h)||c.durationRatio||{},l=a.isFunction(c.duration)&&c.duration.call(b,c,d,g,h)||c.duration||{},m=function(a,b){return e(a[b])||e(a)},n=function(a,b){return f(a[b])||f(a)},o=function(a){return n(k,a)},p=function(a){return m(l,a)},q=function(a){return Math.abs(e(d[a]))};return i(c,j,function(a){var b=o(a),c=p(a);return b?b*q(a):c})},r=function(b,c){var d=null;return a.isFunction(b.startValues)?d=b.startValues(b,c):a.isPlainObject(b.startValues)&&(d=i(b,{},function(d){return a.isNumeric(b.startValues[d])?f(b.startValues[d]):c[d]})),d||(d=c),d},s=function(b,c){var d=a.isPlainObject(b.easing),e=d&&b.easing[c],f=!d&&b.easing;return e||f||a.easing.def||"linear"},t=function(a,b,c){c.x=b.container.scrollLeft(),c.y=b.container.scrollTop()},u=function(a,b,d){var e=b.container.offset()||c;d.x=a.pageX-e.left,d.y=a.pageY-e.top},v=function(a,b,d){var e=b.container.offset()||c,f=a.originalEvent.touches[0];d.x=f.pageX-e.left,d.y=f.pageY-e.top},w={scroll:t,click:u,mouseover:u,mousemove:u,touchmove:v};a.isFunction(a.isString)||(a.isString=function(b){return"string"===a.type(b)}),a.isFunction(a.isNumeric)||(a.isNumeric=function(b){return!a.isNaN(b)}),a.isFunction(a.fn.on)||(a.fn.on=a.fn.bind),a.fn.eventAnimate=function(b){var c=a(this),e=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():a.now()},f=0,j=a.extend({},w),k=f,m={},n={},t={},u={},v={},x=function(a){i(a,m,0),i(a,n,0),i(a,u,0),i(a,t,0),i(a,v,r(a,t))},y=null,z=null,A=!1,B=function(){A=!1,y=null},C=function(b){var d=[b,J,t],h=b.type||J.event,i=j[h];a.isFunction(i)?(a.each(arguments,function(a,b){a>0&&d.push(b)}),i.apply(c,d),(!A||J.restartOnEvent)&&(f=e()-1),A||D(!z)):g('No strategy found for event "'+h+'"')},D=function(a){return G(J)?(p(y),y=null):J.delayStart||a?y=o(I,J):I(),y},E=function(a,b,c,e,f){return i(a,{},function(a){var g=f[a]-e[a],h=Math.min(1,d(b,c[a]));return e[a]+h*g})},F=function(a,b,c,d){!!window.console&&console.log&&!!a.debug&&h(a,function(e){(a.debug===!0||a.debug[e]===!0)&&console.log(k+" Target "+e+" "+parseInt(t[e],10)+" - Start "+parseInt(n[e],10)+" - Linear "+parseInt(b[e],10)+" - Eased "+parseInt(c[e],10)+" - Time "+Math.min(d,m[e])+" - Duration "+m[e])})},G=function(b){return a.isFunction(b.stop)?b.stop(b):!1},H=function(a){return 0!==u[a]},I=function(){if(G(J))B();else if(!z||(clearTimeout(z),z=null),i(J,u,function(a){return t[a]-v[a]}),l(J,H,!0)){if(f>k){var b=r(J,v);(!A||J.restartOnEvent)&&(n=i(J,{},function(a){return b[a]||v[a]||0}),k=f-1,m=q(c,J,u,n,t),v=i(J,v,function(a){return n[a]})),i(J,u,function(a){return t[a]-n[a]})}var d=e()-k,g=function(a){return d<m[a]},h=E(J,d,m,n,t),j={},o=function(b){return a.isNumeric(j[b])};i(J,j,function(b){var c=s(J,b),e=Math.min(d,m[b]),f=t[b]-n[b];return m[b]?a.easing[c](h[b],e,n[b],f,m[b]):t[b]}),F(J,h,j,d),l(J,o,!0)&&i(J,v,j),!A&&a.isFunction(J.start)&&J.start.call(c,d,v),A=!0,a.isFunction(J.step)&&J.step.call(c,d,v),l(J,g,!0)?D(!0):d>0?(B(),z=setTimeout(function(){a.isFunction(J.complete)&&J.complete.call(c,d,v)},J.completeDelay),v=r(J,v)):B()}else B()},J=a.extend({container:null,tick:16,event:"scroll",properties:"x y",delayStart:!1,duration:0,durationRatio:1,restartOnEvent:!1,stop:null,step:null,complete:null,completeDelay:16,start:null,easing:null,strategy:null,startValues:null,debug:!1},b),K=function(b){return b.container=a(b.container||c),b.container.length?(a.isFunction(b.strategy)?j[b.event]=b.strategy:a.isString(b.strategy)?j[b.event]=j[b.strategy]:a.isPlainObject(b.strategy)&&a.each(b.strategy,function(b,c){j[b]=a.isString(c)?j[c]:c}),a.isString(b.properties)&&(b.properties=b.properties.split(" ")),!a.isArray(b.properties)||b.properties.length<1?(g("No animatable properties have been set."),c):(x(b),b.container.on(b.event,C),c)):(g("No container found"),c)};return K(J)},a.eventAnimate={"int":e,"float":f,_forEach:h,_setEach:i,_validateEach:l,_getDuration:q,_getStartValues:r,_getEasing:s,_defaultEventStrategies:w},a.raf=function(c,d){return m(function(){c(arguments)&&a.raf(c)},a.extend({tick:16,container:b},d))},a.craf=function(a){n(a)}}(jQuery);
//# sourceMappingURL=jquery.event-based-animation.min.js.map